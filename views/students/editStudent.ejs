<%- include("../base/header.ejs")%>
    <style>
        h1 {
            margin-top: 1%;
        }
    </style>
    <h1>Edit Student</h1>
    <form action="\students\edit" method="POST">
        <input type="hidden" class="form-control" name="_id" id="_id" value="<%=student['_id']%>">

        <div class="form-group">

            <label for="fullname">fullname</label>
            <input type="text" class="form-control" name="fullname" id="fullname" value="<%=student['fullname']%>">
        </div>
        <div class=" form-group">

            <label for="username">user name</label>
            <input type="text" class="form-control" name="username" id="username" value="<%=student['username']%>">
        </div>
        <div class="form-row">
            <div class="form-group col-md-4">
                <label for="inputCity">City</label>
                <input type="text" class="form-control" id="inputCity" name="city" value="<%=student.address.city%>">
            </div>
            <div class="form-group col-md-4">
                <label for="inputStreet">Street</label>
                <input type="text" class="form-control" id="inputStreet" name="street" value="<%=student['address']['street']%>">

            </div>
            <div class="form-group col-md-4">
                <label for="inputBuilding">Building</label>
                <input type="number" class="form-control" id="inputBuilding" name="building" value="<%=student['address']['building']%>">
            </div>
        </div>
        <div class="form-group">

            <label for="department">Department</label>
            <select class="form-control" name="department" id="department">
				<%for (dept of departments){%>
					<%if(dept["_id"]===student["department"]){%>
						<option selected value=<%=dept['_id']%>><%=dept['name']%></option>
						<%}else{%>
					<option value=<%=dept['_id']%>><%=dept['name']%></option>
				<%}}%>
		</select>
        </div>
        <div class="form-group">
            <label for="courses">Select courses to add to students: </label>
            <select multiple class="form-control" id="courses" name="courses">
                <%for (course of courses){%>
					<%if((student["courses"].findIndex((element)=>{return element===course["_id"];}))!=-1 ){%>
						<option selected value=<%=course['_id']%> ><%=course['name']%></option>
                    <%} else{%>
	                    <option value=<%=course['_id']%> ><%=course['name']%></option>
                    <%}}%>

	</select>
        </div>
        <input type="submit" class="btn btn-success" style="margin-left: 40%;" value="Save Student"> </form>
    <%- include("../base/footer.ejs")%>